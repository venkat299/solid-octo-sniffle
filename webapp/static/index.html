<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Role Analyzer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="hero">
        <div class="hero__content">
          <h1>Job Role Analyzer</h1>
          <p>
            Paste a job description and instantly generate a normalized summary
            along with the core competencies required for the role.
          </p>
        </div>
        <div class="hero__badge">Powered by FAISS + BGE</div>
      </header>

      <main class="layout">
        <section class="panel panel--form">
          <h2>Analyze a Job Description</h2>
          <form id="analyze-form" class="form">
            <div class="form__field">
              <label for="job-title">Job Title</label>
              <input
                type="text"
                id="job-title"
                name="job_title"
                placeholder="e.g. Senior Backend Engineer"
                required
              />
            </div>

            <div class="form__field">
              <label for="experience">Years of Experience</label>
              <input
                type="number"
                id="experience"
                name="years_of_experience"
                min="0"
                max="40"
                value="5"
                required
              />
            </div>

            <div class="form__field">
              <label for="description">Job Description</label>
              <textarea
                id="description"
                name="job_description"
                rows="12"
                placeholder="Paste the full job description here..."
                required
              ></textarea>
            </div>

            <button type="submit" class="button">
              <span class="button__text">Analyze Role</span>
              <span class="button__spinner" aria-hidden="true"></span>
            </button>
            <p class="form__hint">
              Results are cached automatically. Submit the same description to
              reuse prior analysis instantly.
            </p>
          </form>
        </section>

        <section class="panel panel--results" id="results-panel">
          <div class="results-placeholder" id="results-placeholder">
            <h2>Your analysis will appear here</h2>
            <p>
              After submitting the form, you'll receive a structured job role
              summary and a ranked list of competencies.
            </p>
          </div>

          <article class="results" id="results" hidden>
            <div class="results__meta">
              <h2>Role Summary</h2>
              <p class="results__id">Role ID: <span id="role-id"></span></p>
            </div>
            <p id="role-summary" class="results__summary"></p>

            <div class="competencies">
              <h3>Core Competencies</h3>
              <div id="competency-list" class="competencies__list"></div>
            </div>
          </article>
        </section>
      </main>

      <footer class="footer">
        <span>Â© <span id="footer-year"></span> Job Role Analyzer</span>
        <a href="https://github.com/" target="_blank" rel="noreferrer">View on GitHub</a>
      </footer>
    </div>

    <script src="/static/script.js" type="module"></script>
  </body>
</html>
